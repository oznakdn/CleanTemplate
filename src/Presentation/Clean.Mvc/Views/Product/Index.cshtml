@model IEnumerable<GetProductsModel>


<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-md-3 col-sm-6 col-lg-4 col-xxl-3 my-2 mx-2">

            <div class="card mx-2" style="width: 30rem;">
                <div class="display-6 text-center">@item.displayName</div>

                <div class="d-flex col-4">
                    <div id="myCarousel" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            @foreach (var item2 in item.images)
                            {
                                <li data-target="#@item.images[0].imageName" data-slide-to="0" class="active"></li>
                                if (item.images.Count > 1)
                                {
                                    <li data-target="#@item2.imageName" data-slide-to="1"></li>
                                }
                            }
                        </ol>
                        <div class="carousel-inner">
                            @foreach (var image in item.images)
                            {
                                <div class="item active">
                                    <img src="@item.images[0].imageName" width="300" alt="Chania">
                                </div>
                                if (item.images.Count > 1)
                                {
                                    <div class="item">
                                        <img src="@image.imageName" width="300" alt="New York">
                                    </div>
                                }
                            }
                        </div>

                        <!-- Left and right controls -->
                        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#myCarousel" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <h5 class="card-title text-center shadow">@item.category</h5>
                    <p class="card-text text-center">@item.price.ToString("c2")</p>
                    <div class="btn-group d-flex">
                        <a href="#" class="btn btn-primary"><i class="fa-solid fa-circle-info"></i></a>
                        @*@if (User.Identity.Name != null)
                {
                    <a asp-controller="Basket" asp-action="AddBasketItem" asp-route-id="@item.Id" class="btn btn-warning"><i class="fa-solid fa-basket-shopping"></i></a>

                }
                else
                {
                    <a asp-controller="Account" asp-action="Login" class="btn btn-warning"><i class="fa-solid fa-basket-shopping"></i></a>
                }*@
                    </div>
                </div>
            </div>
        </div>
    }

</div>

@section scripts {

    <script>
        $(document).ready(function () {
            $('.carousel').carousel(
                {
                    interval: 2000
                }
            );

        });
    </script>
}







